<style>
  * { margin: 4px; }
  body {
    margin-top: 15em;
    background: #000;
    font-family: monospace;
    margin-left: 10em;
    margin-right: 10em;
    text-align: center;
    color: white;
  }
</style>
<title>Facebook Pingy Thingy</title>
<h1>Detailed Report</h1>
<p id="loading">
  We're still fetching details.<br/>
  The following table is incomplete.
</p>
<br/>

<center><div style="margin: auto;">
  <table>
    <tr>
      <th>Service</th> <th>Status</th>
    </tr>
    <tr>
      <td>Facebook</td> 
      <td>
        <span id="fbliving" style="display:none;"><font color="red">Alive</font></span>
        <span id="fbdead" style="display:none;"><font color="lime">Dead</font></span>
      </td>
    </tr>
    <tr>
      <td>Instagram</td> 
      <td>
        <span id="instliving" style="display:none;"><font color="red">Alive</font></span>
        <span id="instdead" style="display:none;"><font color="lime">Dead</font></span>
      </td>
    </tr>
    <tr>
      <td>WhatsApp</td> 
      <td>
        <span id="waliving" style="display:none;"><font color="red">Alive</font></span>
        <span id="wadead" style="display:none;"><font color="lime">Dead</font></span>
      </td>
    </tr>
 </table>
</div></center>
<script>
  var checked = 0;
 
  function idkwhattonamethis() {
    if (checked == 3) {
      document.getElementById("loading").style = "display:none;";
    }
  }
 
  var FBPinger = new XMLHttpRequest();
  var WAPinger = new XMLHttpRequest();
  var IGPinger = new XMLHttpRequest();
 
  FBPinger.open("GET", "https://facebook.com/");
  FBPinger.send()
  FBPinger.onreadystatechange = function() {
    document.getElementById("loading").style = "display:none;";
    if (this.status == 200 || this.status == 301)
       document.getElementById("fbliving").style = "";
    else
       document.getElementById("fbdead").style = "";
    // Print status, to be nice
    console.log( "FACEBOOK: "+this.status.toString() );
    
    checked++;
    idkwhattonamethis();
  };
  
  WAPinger.open("GET", "https://whatsapp.com/");
  WAPinger.send()
  WAPinger.onreadystatechange = function() {
    document.getElementById("loading").style = "display:none;";
    if (this.status == 200 || this.status == 301)
       document.getElementById("waliving").style = "";
    else
       document.getElementById("wadead").style = "";
    // Print status, to be nice
    console.log( "WHATSAPP: "+this.status.toString() );
    
    checked++;
    idkwhattonamethis();
  };
  
  IGPinger.open("GET", "https://instagram.com/");
  IGPinger.send()
  IGPinger.onreadystatechange = function() {
    document.getElementById("loading").style = "display:none;";
    if (this.status == 200 || this.status == 301)
       document.getElementById("instliving").style = "";
    else
       document.getElementById("instdead").style = "";
    // Print status, to be nice
    console.log( "INSTAGRAM: "+this.status.toString() );
   
    checked++;
    idkwhattonamethis();
  };

</script>
